function setDeltaTime(e){deltaTime=(e-lastTime)/1e3,lastTime=e}function setup(){canvas.height=window.innerHeight,canvas.width=window.innerWidth,circleRadius.initial=canvas.width>canvas.height?canvas.height/3:canvas.width/3,circleRadius.max=circleRadius.initial+circleRadius.variance,circleRadius.min=circleRadius.initial-circleRadius.variance-offset,initialAngle=particleAmount/2*Math.PI*particleAmount,angleIncrease=rotationSpeed/(particleAmount/2)*Math.PI/particleAmount,increment=initialAngle+angleIncrease,particles.length=0,createParticles(),hasDefaultSettings&&(document.getElementById("particleAmount").value=particleAmount.toString(),document.getElementById("rotationSpeed").value=rotationSpeed.toString(),document.getElementById("variance").value=circleRadius.variance.toString(),document.getElementById("expansionSpeed").value=circleRadius.expansionSpeed.toString())}function clearCanvas(){ctx.clearRect(0,0,canvas.width,canvas.height)}function renderBackground(){ctx.fillStyle="rgba(22, 22, 22, 1)",ctx.rect(0,0,canvas.width,canvas.height),ctx.fill()}function Particle(e,t){this.angle=e,this.radius=particleRadius,this.isAdditionalRadiusIncreasing=t,this.additionalRadius=0,this.setPostion=function(){this.x=(circleRadius.initial+this.additionalRadius)*Math.cos(this.angle)+canvas.width/2,this.y=(circleRadius.initial+this.additionalRadius)*Math.sin(this.angle)+canvas.height/2}}function createParticles(){for(var e=0;e<particleAmount;e++){var t=e/(particleAmount/2)*Math.PI,i=e%2==0;particles.push(new Particle(t,i)),particles[e].setPostion()}}function updateParticles(){particles.forEach(function(e){e.additionalRadius+=e.isAdditionalRadiusIncreasing?circleRadius.expansionSpeed:-circleRadius.expansionSpeed,(circleRadius.initial+e.additionalRadius>=circleRadius.max||circleRadius.initial+e.additionalRadius<=circleRadius.min)&&(e.isAdditionalRadiusIncreasing=!e.isAdditionalRadiusIncreasing),e.angle+=increment,e.setPostion()})}function renderParticles(){particles.forEach(function(e,t){ctx.beginPath(),ctx.arc(e.x,e.y,e.radius,0,twoPi);var i=ctx.createRadialGradient(e.x,e.y,e.radius/3,e.x,e.y,e.radius);i.addColorStop(0,"lightblue"),i.addColorStop(1,"blue"),ctx.fillStyle=i,ctx.strokeStyle="blue",ctx.lineWidth=1,ctx.moveTo(e.x,e.y),ctx.lineTo(canvas.width/2,canvas.height/2),ctx.stroke(),ctx.fill()})}function applyUserInput(){hasDefaultSettings=!1;this.value.length<4&&parseInt(this.value)<=1e3&&!isNaN(parseInt(this.value))?(particleAmount=parseInt(document.getElementById("particleAmount").value),rotationSpeed=parseInt(document.getElementById("rotationSpeed").value),circleRadius.variance=parseInt(document.getElementById("variance").value),circleRadius.expansionSpeed=parseInt(document.getElementById("expansionSpeed").value),setup()):this.value="10"}function render(e){setDeltaTime(e),clearCanvas(),renderBackground(),updateParticles(),renderParticles(),animation=requestAnimationFrame(render)}var time,lastTime,deltaTime,animation,canvas=document.getElementById("canvas1"),ctx=canvas.getContext("2d"),twoPi=2*Math.PI,particles=[],particleAmount=36,rotationSpeed=.5,initialAngle=particleAmount/2*Math.PI*particleAmount,angleIncrease=rotationSpeed/(particleAmount/2)*Math.PI/particleAmount,increment=initialAngle+angleIncrease,offset=100,controls=document.querySelectorAll(".random-canvas-input"),hasDefaultSettings=!0,particleRadius=10,circleRadius={initial:canvas.width>canvas.height?canvas.height/3:canvas.width/3,max:0,min:0,expansionSpeed:2,variance:100};window.addEventListener("resize",function(){cancelAnimationFrame(animation),setup(),animation=requestAnimationFrame(render)}),setup(),animation=requestAnimationFrame(render),controls.forEach(function(e){e.addEventListener("change",applyUserInput)}),document.getElementById("closeButton").addEventListener("click",function(){document.getElementById("canvasControls").classList.add("js-hidden"),document.getElementById("openButton").classList.remove("js-hidden")}),document.getElementById("openButton").addEventListener("click",function(){document.getElementById("canvasControls").classList.remove("js-hidden"),document.getElementById("openButton").classList.add("js-hidden")});