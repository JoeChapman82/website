var time,lastTime,deltaTime,canvas=document.getElementById("canvas1"),ctx=canvas.getContext("2d"),twoPi=2*Math.PI,particles=[],particleAmount=36,speed=1,initialAngle=particleAmount/2*Math.PI*particleAmount,angleIncrease=speed/(particleAmount/2)*Math.PI/particleAmount,increment=initialAngle+angleIncrease,particleRadius=10,circleRadius={initial:canvas.width>canvas.height?canvas.height/2:canvas.width/2,max:0,min:0,increment:5,variance:100},mouse={x:0,y:0},invader=new Image;function setDeltaTime(i){deltaTime=(i-lastTime)/1e3,lastTime=i}function setup(i){i.height=window.innerHeight,i.width=window.innerWidth,circleRadius.initial=i.width>i.height?i.height/2.5:i.width/2.5,circleRadius.max=circleRadius.initial+circleRadius.variance,circleRadius.min=circleRadius.initial-circleRadius.variance,particles.length=0,createParticles()}function clearCanvas(){ctx.clearRect(0,0,canvas.width,canvas.height)}function renderBackground(){ctx.globalAlpha=.1,ctx.drawImage(invader,canvas.width/2-circleRadius.initial,canvas.height/2-circleRadius.initial,2*circleRadius.initial,2*circleRadius.initial),ctx.globalAlpha=1}function Particle(i,a){this.x=0,this.y=0,this.angle=i,this.radius=particleRadius,this.isAdditionalRadiusIncreasing=a,this.additionalRadius=0,this.collider={x:0,y:0,width:4*this.radius,height:4*this.radius},this.setPostion=function(){this.x=(circleRadius.initial+this.additionalRadius)*Math.cos(this.angle)+canvas.width/2,this.y=(circleRadius.initial+this.additionalRadius)*Math.sin(this.angle)+canvas.height/2,this.collider.x=this.x-2*this.radius,this.collider.y=this.y-2*this.radius}}function createParticles(){for(var i=0;i<particleAmount;i++){var a=i/(particleAmount/2)*Math.PI,e=i%2==0;particles.push(new Particle(a,e)),particles[i].setPostion()}}function updateParticles(){particles.forEach(function(i){i.angle+=increment,(isCollidingMouseRect(i.collider)||0!==i.additionalRadius)&&(i.additionalRadius+=i.isAdditionalRadiusIncreasing?circleRadius.increment:-circleRadius.increment,(circleRadius.initial+i.additionalRadius>=circleRadius.max||circleRadius.initial+i.additionalRadius<=circleRadius.min)&&(i.isAdditionalRadiusIncreasing=!i.isAdditionalRadiusIncreasing)),i.setPostion()})}function renderParticles(){particles.forEach(function(i,a){ctx.beginPath(),ctx.arc(i.x,i.y,i.radius,0,twoPi);var e=ctx.createRadialGradient(i.x,i.y,i.radius/3,i.x,i.y,i.radius);e.addColorStop(0,"lightblue"),e.addColorStop(1,"blue"),ctx.fillStyle=e,ctx.fill(),ctx.beginPath()})}function getMousePosition(i){var a=canvas.getBoundingClientRect(),e=document.documentElement;mouse.x=i.clientX-a.left-e.scrollLeft,mouse.y=i.clientY-a.top-e.scrollTop}function isCollidingMouseRect(i){return mouse.x>=i.x&&mouse.x<=i.x+i.width&&mouse.y>=i.y&&mouse.y<=i.y+i.height}function render(i){setDeltaTime(i),clearCanvas(),renderBackground(),updateParticles(),renderParticles(),animation=requestAnimationFrame(render)}invader.src="/images/about/invader.png",window.addEventListener("resize",function(){cancelAnimationFrame(animation),setup(canvas),animation=requestAnimationFrame(render)}),document.addEventListener("mousemove",getMousePosition),setup(canvas),animation=requestAnimationFrame(render);